import { GMParameter } from '../types/elm327';

export const gmParameters: GMParameter[] = [
  {
    id: 'rpm',
    name: 'Engine RPM',
    command: '010C',
    description: 'Engine revolutions per minute',
    unit: 'RPM',
    category: 'Engine',
    writable: false,
    min: 0,
    max: 8000,
    formula: (value: number) => value,
  },
  {
    id: 'speed',
    name: 'Vehicle Speed',
    command: '010D',
    description: 'Vehicle speed',
    unit: 'km/h',
    category: 'Vehicle',
    writable: false,
    min: 0,
    max: 255,
  },
  {
    id: 'coolant_temp',
    name: 'Coolant Temperature',
    command: '0105',
    description: 'Engine coolant temperature',
    unit: 'Â°C',
    category: 'Engine',
    writable: false,
    min: -40,
    max: 215,
  },
  {
    id: 'intake_temp',
    name: 'Intake Air Temperature',
    command: '010F',
    description: 'Intake air temperature',
    unit: 'Â°C',
    category: 'Engine',
    writable: false,
    min: -40,
    max: 215,
  },
  {
    id: 'maf',
    name: 'Mass Air Flow',
    command: '0110',
    description: 'Mass air flow sensor rate',
    unit: 'g/s',
    category: 'Engine',
    writable: false,
    min: 0,
    max: 655.35,
  },
  {
    id: 'throttle',
    name: 'Throttle Position',
    command: '0111',
    description: 'Throttle position',
    unit: '%',
    category: 'Engine',
    writable: false,
    min: 0,
    max: 100,
  },
  {
    id: 'fuel_pressure',
    name: 'Fuel Pressure',
    command: '010A',
    description: 'Fuel rail pressure',
    unit: 'kPa',
    category: 'Fuel',
    writable: false,
    min: 0,
    max: 765,
  },
  {
    id: 'timing_advance',
    name: 'Timing Advance',
    command: '010E',
    description: 'Ignition timing advance',
    unit: 'Â°',
    category: 'Ignition',
    writable: false,
    min: -64,
    max: 63.5,
  },
  {
    id: 'o2_voltage',
    name: 'O2 Sensor Voltage',
    command: '0114',
    description: 'Oxygen sensor voltage',
    unit: 'V',
    category: 'Fuel',
    writable: false,
    min: 0,
    max: 1.275,
  },
  {
    id: 'short_fuel_trim',
    name: 'Short Term Fuel Trim',
    command: '0106',
    description: 'Short term fuel trim - Bank 1',
    unit: '%',
    category: 'Fuel',
    writable: false,
    min: -100,
    max: 99.2,
  },
  {
    id: 'long_fuel_trim',
    name: 'Long Term Fuel Trim',
    command: '0107',
    description: 'Long term fuel trim - Bank 1',
    unit: '%',
    category: 'Fuel',
    writable: false,
    min: -100,
    max: 99.2,
  },
  {
    id: 'intake_pressure',
    name: 'Intake Manifold Pressure',
    command: '010B',
    description: 'Intake manifold absolute pressure',
    unit: 'kPa',
    category: 'Engine',
    writable: false,
    min: 0,
    max: 255,
  },
  {
    id: 'fuel_level',
    name: 'Fuel Level',
    command: '012F',
    description: 'Fuel tank level',
    unit: '%',
    category: 'Fuel',
    writable: false,
    min: 0,
    max: 100,
  },
  {
    id: 'engine_load',
    name: 'Engine Load',
    command: '0104',
    description: 'Calculated engine load',
    unit: '%',
    category: 'Engine',
    writable: false,
    min: 0,
    max: 100,
  },
  {
    id: 'fuel_rate',
    name: 'Fuel Consumption Rate',
    command: '015E',
    description: 'Engine fuel rate',
    unit: 'L/h',
    category: 'Fuel',
    writable: false,
    min: 0,
    max: 3212.75,
  },
];

export const gmCategories = [
  'All',
  'Engine',
  'Fuel',
  'Ignition',
  'Vehicle',
];

export function getParametersByCategory(category: string): GMParameter[] {
  if (category === 'All') return gmParameters;
  return gmParameters.filter(p => p.category === category);
}

export function getParameterById(id: string): GMParameter | undefined {
  return gmParameters.find(p => p.id === id);
}
